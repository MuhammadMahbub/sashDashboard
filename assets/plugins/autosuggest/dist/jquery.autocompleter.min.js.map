{"version":3,"file":"jquery.autocompleter.min.js","sources":["../src/jquery.autocompleter.js"],"sourcesContent":["import $ from \"jquery\";\n\nvar guid = 0,\n  ignoredKeyCode = [\n    9,\n    13,\n    17,\n    19,\n    20,\n    27,\n    33,\n    34,\n    35,\n    36,\n    37,\n    39,\n    44,\n    92,\n    113,\n    114,\n    115,\n    118,\n    119,\n    120,\n    122,\n    123,\n    144,\n    145\n  ],\n  allowOptions = [\n    \"source\",\n    \"empty\",\n    \"limit\",\n    \"cache\",\n    \"cacheExpires\",\n    \"focusOpen\",\n    \"selectFirst\",\n    \"changeWhenSelect\",\n    \"highlightMatches\",\n    \"ignoredKeyCode\",\n    \"customLabel\",\n    \"customValue\",\n    \"template\",\n    \"offset\",\n    \"combine\",\n    \"callback\",\n    \"minLength\",\n    \"delay\"\n  ],\n  userAgent =\n    window.navigator.userAgent || window.navigator.vendor || window.opera,\n  isFirefox = /Firefox/i.test(userAgent),\n  isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(userAgent),\n  isFirefoxMobile = isFirefox && isMobile,\n  $body = null,\n  delayTimeout = null,\n  localStorageKey = \"autocompleterCache\",\n  supportLocalStorage = (function() {\n    var supported = typeof window.localStorage !== \"undefined\";\n\n    if (supported) {\n      try {\n        localStorage.setItem(\"autocompleter\", \"autocompleter\");\n        localStorage.removeItem(\"autocompleter\");\n      } catch (e) {\n        supported = false;\n      }\n    }\n\n    return supported;\n  })();\n\n/**\n * Don't forget update README.md\n *\n * @options\n * @param source [(string|object)] <null> \"URL to the server or a local object\"\n * @param asLocal [boolean] <false> \"Parse remote response as local source\"\n * @param empty [boolean] <true> \"Launch if value is empty\"\n * @param limit [int] <10> \"Number of results to be displayed\"\n * @param minLength [int] <0> \"Minimum length for autocompleter\"\n * @param delay [int] <0> \"Few milliseconds to defer the request\"\n * @param customClass [array] <[]> \"Array with custom classes for autocompleter element\"\n * @param cache [boolean] <true> \"Save xhr data to localStorage to avoid the repetition of requests\"\n * @param cacheExpires [int] <86400> \"localStorage data lifetime\"\n * @param focusOpen [boolean] <true> \"Launch autocompleter when input gets focus\"\n * @param hint [boolean] <false> \"Add hint to input with first matched label, correct styles should be installed\"\n * @param selectFirst [boolean] <false> \"If set to true, first element in autocomplete list will be selected automatically, ignore if changeWhenSelect is on\"\n * @param changeWhenSelect [boolean] <true> \"Allows to change input value using arrow keys navigation in autocomplete list\"\n * @param highlightMatches [boolean] <false> \"This option defines <strong> tag wrap for matches in autocomplete results\"\n * @param ignoredKeyCode [array] <[]> \"Array with ignorable keycodes\"\n * @param customLabel [boolean] <false> \"The name of object's property which will be used as a label\"\n * @param customValue [boolean] <false> \"The name of object's property which will be used as a value\"\n * @param template [(string|boolean)] <false> \"Custom template for list items\"\n * @param offset [(string|boolean)] <false> \"Source response offset, for example: response.items.posts\"\n * @param combine [function] <null> \"Returns an object with ajax data. Useful if you want to pass some additional server options or replace it at all\"\n * @param callback [function] <$.noop> \"Select value callback function. Arguments: value, index\"\n */\nvar options = {\n  source: null,\n  asLocal: false,\n  empty: true,\n  limit: 10,\n  minLength: 0,\n  delay: 0,\n  customClass: [],\n  cache: true,\n  cacheExpires: 86400,\n  focusOpen: true,\n  hint: false,\n  selectFirst: false,\n  changeWhenSelect: true,\n  highlightMatches: false,\n  ignoredKeyCode: [],\n  customLabel: false,\n  customValue: false,\n  template: false,\n  offset: false,\n  combine: null,\n  callback: $.noop\n};\n\nvar publics = {\n  /**\n   * @method\n   * @name defaults\n   * @description Sets default plugin options\n   * @param opts [object] <{}> \"Options object\"\n   * @example $.autocompleter('defaults', opts);\n   */\n  defaults: function(opts) {\n    options = $.extend(options, opts || {});\n\n    return typeof this === \"object\" ? $(this) : true;\n  },\n\n  /**\n   * @method\n   * @name option\n   * @description Open autocompleter list\n   */\n  option: function(properties) {\n    return $(this).each(function(i, input) {\n      var data = $(input)\n        .next(\".autocompleter\")\n        .data(\"autocompleter\");\n\n      for (var property in properties) {\n        if ($.inArray(property, allowOptions) !== -1) {\n          data[property] = properties[property];\n        }\n      }\n    });\n  },\n\n  /**\n   * @method\n   * @name open\n   * @description Open autocompleter list\n   */\n  open: function() {\n    return $(this).each(function(i, input) {\n      var data = $(input)\n        .next(\".autocompleter\")\n        .data(\"autocompleter\");\n\n      if (data) {\n        _open(null, data);\n      }\n    });\n  },\n\n  /**\n   * @method\n   * @name close\n   * @description Close autocompleter list\n   */\n  close: function() {\n    return $(this).each(function(i, input) {\n      var data = $(input)\n        .next(\".autocompleter\")\n        .data(\"autocompleter\");\n\n      if (data) {\n        _close(null, data);\n      }\n    });\n  },\n\n  /**\n   * @method\n   * @name clearCache\n   * @description Remove localStorage cache\n   */\n  clearCache: function() {\n    _deleteCache();\n  },\n\n  /**\n   * @method\n   * @name destroy\n   * @description Removes instance of plugin\n   * @example $('.target').autocompleter('destroy');\n   */\n  destroy: function() {\n    return $(this).each(function(i, input) {\n      var data = $(input)\n        .next(\".autocompleter\")\n        .data(\"autocompleter\");\n\n      if (data) {\n        // Abort xhr\n        if (data.jqxhr) {\n          data.jqxhr.abort();\n        }\n\n        // If has selected item & open - confirm it\n        if (data.$autocompleter.hasClass(\"open\")) {\n          data.$autocompleter\n            .find(\".autocompleter-selected\")\n            .trigger(\"click.autocompleter\");\n        }\n\n        // Restore original autocomplete attr\n        if (!data.originalAutocomplete) {\n          data.$node.removeAttr(\"autocomplete\");\n        } else {\n          data.$node.attr(\"autocomplete\", data.originalAutocomplete);\n        }\n\n        // Remove autocompleter & unbind events\n        data.$node.off(\".autocompleter\").removeClass(\"autocompleter-node\");\n        data.$autocompleter.off(\".autocompleter\").remove();\n      }\n    });\n  }\n};\n\n/**\n * @method private\n * @name _init\n * @description Initializes plugin\n * @param opts [object] \"Initialization options\"\n */\nfunction _init(opts) {\n  // Local options\n  opts = $.extend({}, options, opts || {});\n\n  // Check for Body\n  if ($body === null) {\n    $body = $(\"body\");\n  }\n\n  // Apply to each element\n  var $items = $(this);\n  for (var i = 0, count = $items.length; i < count; i++) {\n    _build($items.eq(i), opts);\n  }\n\n  return $items;\n}\n\n/**\n * @method private\n * @name _build\n * @description Builds each instance\n * @param $node [jQuery object] \"Target jQuery object\"\n * @param opts [object] <{}> \"Options object\"\n */\nfunction _build($node, opts) {\n  if (!$node.hasClass(\"autocompleter-node\")) {\n    // Extend options\n    opts = $.extend({}, opts, $node.data(\"autocompleter-options\"));\n\n    // Check for as local or .json file\n    if (\n      typeof opts.source === \"string\" &&\n      (opts.source.slice(-5) === \".json\" || opts.asLocal === true)\n    ) {\n      $.ajax({\n        url: opts.source,\n        type: \"GET\",\n        dataType: \"json\",\n        async: false\n      }).done(function(response) {\n        opts.source = response;\n      });\n    }\n\n    var html =\n      '<div class=\"autocompleter ' +\n      opts.customClass.join(\" \") +\n      '\" id=\"autocompleter-' +\n      (guid + 1) +\n      '\">';\n\n    if (opts.hint) {\n      html += '<div class=\"autocompleter-hint\"></div>';\n    }\n\n    html += '<ul class=\"autocompleter-list\"></ul>';\n    html += \"</div>\";\n\n    $node.addClass(\"autocompleter-node\").after(html);\n\n    var $autocompleter = $node.next(\".autocompleter\").eq(0);\n\n    // Set autocomplete to off for warn overlay\n    var originalAutocomplete = $node.attr(\"autocomplete\");\n    $node.attr(\"autocomplete\", \"off\");\n\n    // Store plugin data\n    var data = $.extend(\n      {\n        $node: $node,\n        $autocompleter: $autocompleter,\n        $selected: null,\n        $list: null,\n        index: -1,\n        hintText: false,\n        source: false,\n        jqxhr: false,\n        response: null,\n        focused: false,\n        query: \"\",\n        originalAutocomplete: originalAutocomplete,\n        guid: guid++\n      },\n      opts\n    );\n\n    // Bind autocompleter events\n    data.$autocompleter\n      .on(\"mousedown.autocompleter\", \".autocompleter-item\", data, _select)\n      .data(\"autocompleter\", data);\n\n    // Bind node events\n    data.$node\n      .on(\"keyup.autocompleter\", data, _onKeyup)\n      .on(\"keydown.autocompleter\", data, _onKeydown)\n      .on(\"focus.autocompleter\", data, _onFocus)\n      .on(\"blur.autocompleter\", data, _onBlur)\n      .on(\"mousedown.autocompleter\", data, _onMousedown);\n  }\n}\n\n/**\n * @method private\n * @name _search\n * @description Local search function, return best collation\n * @param query [string] \"Query string\"\n * @param source [object] \"Source data\"\n * @param data [object] \"Instance data\"\n */\nfunction _search(query, source, data) {\n  var response = [];\n\n  query = query.toUpperCase();\n\n  if (source.length) {\n    for (var i = 0; i < 2; i++) {\n      for (var item in source) {\n        if (response.length < data.limit) {\n          var label =\n            data.customLabel && source[item][data.customLabel]\n              ? source[item][data.customLabel]\n              : source[item].label;\n\n          switch (i) {\n            case 0:\n              if (label.toUpperCase().search(query) === 0) {\n                response.push(source[item]);\n                delete source[item];\n              }\n              break;\n\n            case 1:\n              if (label.toUpperCase().search(query) !== -1) {\n                response.push(source[item]);\n                delete source[item];\n              }\n              break;\n          }\n        }\n      }\n    }\n  }\n\n  return response;\n}\n\n/**\n * @method private\n * @name _launch\n * @description Launch autocompleter\n * @param data [object] \"Instance data\"\n */\nfunction _launch(data) {\n  // Clear previous timeout\n  clearTimeout(delayTimeout);\n\n  data.query = $.trim(data.$node.val());\n\n  if (\n    (!data.empty && data.query.length === 0) ||\n    (data.minLength && data.query.length < data.minLength)\n  ) {\n    _clear(data);\n    return;\n  }\n\n  if (data.delay) {\n    // Be careful: delay used also with local source\n    delayTimeout = setTimeout(function() {\n      _xhr(data);\n    }, data.delay);\n  } else {\n    _xhr(data);\n  }\n}\n\n/**\n * @method private\n * @name _xhr\n * @description Use source locally or create xhr\n * @param data [object] \"Instance data\"\n */\nfunction _xhr(data) {\n  if (typeof data.source === \"object\") {\n    _clear(data);\n\n    // Local search\n    var search = _search(data.query, _clone(data.source), data);\n\n    if (search.length) {\n      _response(search, data);\n    }\n  } else {\n    if (data.jqxhr) {\n      data.jqxhr.abort();\n    }\n\n    var ajaxData = {\n      limit: data.limit,\n      query: data.query\n    };\n\n    if (typeof data.combine === \"function\") {\n      ajaxData = data.combine(ajaxData);\n    }\n\n    data.jqxhr = $.ajax({\n      url: data.source,\n      dataType: \"json\",\n      crossDomain: true,\n      data: ajaxData,\n      beforeSend: function(xhr) {\n        data.$autocompleter.addClass(\"autocompleter-ajax\");\n        _clear(data);\n\n        if (data.cache) {\n          var stored = _getCache(this.url, data.cacheExpires);\n\n          if (stored) {\n            xhr.abort();\n            _response(stored, data);\n          }\n        }\n      }\n    })\n      .done(function(response) {\n        // Get subobject from responce\n        if (data.offset) {\n          response = _grab(response, data.offset);\n        }\n\n        // Set cache\n        if (data.cache) {\n          _setCache(this.url, response);\n        }\n\n        _response(response, data);\n      })\n      .always(function() {\n        data.$autocompleter.removeClass(\"autocompleter-ajax\");\n      });\n  }\n}\n\n/**\n * @method private\n * @name _clear\n * @param data [object] \"Instance data\"\n */\nfunction _clear(data) {\n  // Clear data\n  data.response = null;\n  data.$list = null;\n  data.$selected = null;\n  data.index = 0;\n  data.$autocompleter.find(\".autocompleter-list\").empty();\n  data.$autocompleter\n    .find(\".autocompleter-hint\")\n    .removeClass(\"autocompleter-hint-show\")\n    .empty();\n  data.hintText = false;\n\n  _close(null, data);\n}\n\n/**\n * @method private\n * @name _response\n * @description Main source response function\n * @param response [object] \"Source data\"\n * @param data [object] \"Instance data\"\n */\nfunction _response(response, data) {\n  _buildList(response, data);\n\n  if (data.$autocompleter.hasClass(\"autocompleter-focus\")) {\n    _open(null, data);\n  }\n}\n\n/**\n * @method private\n * @name _buildList\n * @description Generate autocompleter-list and update instance data by source\n * @param list [object] \"Source data\"\n * @param data [object] \"Instance data\"\n */\nfunction _buildList(list, data) {\n  var menu = \"\";\n\n  for (var item = 0, count = list.length; item < count; item++) {\n    var classes = [\"autocompleter-item\"],\n      highlightReg = new RegExp(data.query, \"gi\");\n\n    if (data.selectFirst && item === 0 && !data.changeWhenSelect) {\n      classes.push(\"autocompleter-item-selected\");\n    }\n\n    var label =\n        data.customLabel && list[item][data.customLabel]\n          ? list[item][data.customLabel]\n          : list[item].label,\n      clear = label;\n\n    label = data.highlightMatches\n      ? label.replace(highlightReg, \"<strong>$&</strong>\")\n      : label;\n\n    var value =\n      data.customValue && list[item][data.customValue]\n        ? list[item][data.customValue]\n        : list[item].value;\n\n    // Apply custom template\n    if (data.template) {\n      var template = data.template.replace(/({{ label }})/gi, label);\n\n      for (var property in list[item]) {\n        if (Object.prototype.hasOwnProperty.call(list[item], property)) {\n          var regex = new RegExp(\"{{ \" + property + \" }}\", \"gi\");\n\n          template = template.replace(regex, list[item][property]);\n        }\n      }\n\n      label = template;\n    }\n\n    if (value) {\n      menu +=\n        '<li data-value=\"' +\n        value +\n        '\" data-label=\"' +\n        clear +\n        '\" class=\"' +\n        classes.join(\" \") +\n        '\">' +\n        label +\n        \"</li>\";\n    } else {\n      menu +=\n        '<li data-label=\"' +\n        clear +\n        '\" class=\"' +\n        classes.join(\" \") +\n        '\">' +\n        label +\n        \"</li>\";\n    }\n  }\n\n  // Set hint\n  if (list.length && data.hint) {\n    var hintLabel =\n        data.customLabel && list[0][data.customLabel]\n          ? list[0][data.customLabel]\n          : list[0].label,\n      hint =\n        hintLabel.substr(0, data.query.length).toUpperCase() ===\n        data.query.toUpperCase()\n          ? hintLabel\n          : false;\n\n    if (hint && data.query !== hintLabel) {\n      var hintReg = new RegExp(data.query, \"i\");\n      var hintText = hint.replace(hintReg, \"<span>\" + data.query + \"</span>\");\n\n      data.$autocompleter\n        .find(\".autocompleter-hint\")\n        .addClass(\"autocompleter-hint-show\")\n        .html(hintText);\n      data.hintText = hintText;\n    }\n  }\n\n  // Update data\n  data.response = list;\n  data.$autocompleter.find(\".autocompleter-list\").html(menu);\n  data.$selected = data.$autocompleter.find(\".autocompleter-item-selected\")\n    .length\n    ? data.$autocompleter.find(\".autocompleter-item-selected\")\n    : null;\n  data.$list = list.length\n    ? data.$autocompleter.find(\".autocompleter-item\")\n    : null;\n  data.index = data.$selected ? data.$list.index(data.$selected) : -1;\n  data.$autocompleter.find(\".autocompleter-item\").each(function(i, j) {\n    $(j).data(data.response[i]);\n  });\n}\n\n/**\n * @method private\n * @name _onKeyup\n * @description Keyup events in node, up/down autocompleter-list navigation, typing and enter button callbacks\n * @param e [object] \"Event data\"\n */\nfunction _onKeyup(e) {\n  var data = e.data,\n    code = e.keyCode ? e.keyCode : e.which;\n\n  if (\n    (code === 40 || code === 38) &&\n    data.$autocompleter.hasClass(\"autocompleter-show\")\n  ) {\n    // Arrows up & down\n    var len = data.$list.length,\n      next,\n      prev;\n\n    if (len) {\n      // Determine new index\n      if (len > 1) {\n        if (data.index === len - 1) {\n          next = data.changeWhenSelect ? -1 : 0;\n          prev = data.index - 1;\n        } else if (data.index === 0) {\n          next = data.index + 1;\n          prev = data.changeWhenSelect ? -1 : len - 1;\n        } else if (data.index === -1) {\n          next = 0;\n          prev = len - 1;\n        } else {\n          next = data.index + 1;\n          prev = data.index - 1;\n        }\n      } else if (data.index === -1) {\n        next = 0;\n        prev = 0;\n      } else {\n        prev = -1;\n        next = -1;\n      }\n\n      data.index = code === 40 ? next : prev;\n\n      // Update HTML\n      data.$list.removeClass(\"autocompleter-item-selected\");\n\n      if (data.index !== -1) {\n        data.$list.eq(data.index).addClass(\"autocompleter-item-selected\");\n      }\n\n      data.$selected = data.$autocompleter.find(\".autocompleter-item-selected\")\n        .length\n        ? data.$autocompleter.find(\".autocompleter-item-selected\")\n        : null;\n\n      if (data.changeWhenSelect) {\n        _setValue(data);\n      }\n    }\n  } else if (\n    $.inArray(code, ignoredKeyCode) === -1 &&\n    $.inArray(code, data.ignoredKeyCode) === -1\n  ) {\n    // Typing\n    _launch(data);\n  }\n}\n\n/**\n * @method private\n * @name _onKeydown\n * @description Keydown events in node, up/down for prevent cursor moving and right arrow for hint\n * @param e [object] \"Event data\"\n */\nfunction _onKeydown(e) {\n  var data = e.data,\n    code = e.keyCode ? e.keyCode : e.which;\n\n  if (code === 40 || code === 38) {\n    e.preventDefault();\n    e.stopPropagation();\n  } else if (code === 39) {\n    // Right arrow\n    if (\n      data.hint &&\n      data.hintText &&\n      data.$autocompleter\n        .find(\".autocompleter-hint\")\n        .hasClass(\"autocompleter-hint-show\")\n    ) {\n      e.preventDefault();\n      e.stopPropagation();\n\n      var hintOrigin = data.$autocompleter.find(\".autocompleter-item\").length\n        ? data.$autocompleter\n            .find(\".autocompleter-item\")\n            .eq(0)\n            .attr(\"data-label\")\n        : false;\n\n      if (hintOrigin) {\n        data.query = hintOrigin;\n        _setHint(data);\n      }\n    }\n  } else if (code === 13) {\n    // Enter\n    if (data.$autocompleter.hasClass(\"autocompleter-show\") && data.$selected) {\n      _select(e);\n    }\n  }\n}\n\n/**\n * @method private\n * @name _onFocus\n * @description Handles instance focus\n * @param e [object] \"Event data\"\n * @param internal [boolean] \"Called by plugin\"\n */\nfunction _onFocus(e, internal) {\n  if (!internal) {\n    var data = e.data;\n\n    data.$autocompleter.addClass(\"autocompleter-focus\");\n\n    if (\n      !data.$node.prop(\"disabled\") &&\n      !data.$autocompleter.hasClass(\"autocompleter-show\")\n    ) {\n      if (data.focusOpen) {\n        _launch(data);\n        data.focused = true;\n\n        setTimeout(function() {\n          data.focused = false;\n        }, 500);\n      }\n    }\n  }\n}\n\n/**\n * @method private\n * @name _onBlur\n * @description Handles instance blur\n * @param e [object] \"Event data\"\n * @param internal [boolean] \"Called by plugin\"\n */\nfunction _onBlur(e, internal) {\n  e.preventDefault();\n  e.stopPropagation();\n\n  var data = e.data;\n\n  if (!internal) {\n    data.$autocompleter.removeClass(\"autocompleter-focus\");\n    _close(e);\n  }\n}\n\n/**\n * @method private\n * @name _onMousedown\n * @description Handles mousedown to node\n * @param e [object] \"Event data\"\n */\nfunction _onMousedown(e) {\n  // Disable middle & right mouse click\n  if (e.type === \"mousedown\" && $.inArray(e.which, [2, 3]) !== -1) {\n    return;\n  }\n\n  var data = e.data;\n\n  if (data.$list && !data.focused) {\n    if (!data.$node.is(\":disabled\")) {\n      if (isMobile && !isFirefoxMobile) {\n        var el = data.$select[0];\n\n        if (window.document.createEvent) {\n          // All\n          var evt = window.document.createEvent(\"MouseEvents\");\n          evt.initMouseEvent(\n            \"mousedown\",\n            false,\n            true,\n            window,\n            0,\n            0,\n            0,\n            0,\n            0,\n            false,\n            false,\n            false,\n            false,\n            0,\n            null\n          );\n          el.dispatchEvent(evt);\n        } else if (el.fireEvent) {\n          // IE\n          el.fireEvent(\"onmousedown\");\n        }\n      } else {\n        // Delegate intent\n        if (data.$autocompleter.hasClass(\"autocompleter-closed\")) {\n          _open(e);\n        } else if (data.$autocompleter.hasClass(\"autocompleter-show\")) {\n          _close(e);\n        }\n      }\n    }\n  }\n}\n\n/**\n * @method private\n * @name _open\n * @description Opens option set\n * @param e [object] \"Event data\"\n * @param instanceData [object] \"Instance data\"\n */\nfunction _open(e, instanceData) {\n  var data = e ? e.data : instanceData;\n\n  if (\n    !data.$node.prop(\"disabled\") &&\n    !data.$autocompleter.hasClass(\"autocompleter-show\") &&\n    data.$list &&\n    data.$list.length\n  ) {\n    data.$autocompleter\n      .removeClass(\"autocompleter-closed\")\n      .addClass(\"autocompleter-show\");\n    $body.on(\n      \"click.autocompleter-\" + data.guid,\n      \":not(.autocompleter-item)\",\n      data,\n      _closeHelper\n    );\n  }\n}\n\n/**\n * @method private\n * @name _closeHelper\n * @description Determines if event target is outside instance before closing\n * @param e [object] \"Event data\"\n */\nfunction _closeHelper(e) {\n  if ($(e.target).hasClass(\"autocompleter-node\")) {\n    return;\n  }\n\n  if ($(e.currentTarget).parents(\".autocompleter\").length === 0) {\n    _close(e);\n  }\n}\n\n/**\n * @method private\n * @name _close\n * @description Closes option set\n * @param e [object] \"Event data\"\n * @param instanceData [object] \"Instance data\"\n */\nfunction _close(e, instanceData) {\n  var data = e ? e.data : instanceData;\n\n  if (data.$autocompleter.hasClass(\"autocompleter-show\")) {\n    data.$autocompleter\n      .removeClass(\"autocompleter-show\")\n      .addClass(\"autocompleter-closed\");\n    $body.off(\".autocompleter-\" + data.guid);\n  }\n}\n\n/**\n * @method private\n * @name _select\n * @description Select item from .autocompleter-list\n * @param e [object] \"Event data\"\n */\nfunction _select(e) {\n  // Disable middle & right mouse click\n  if (e.type === \"mousedown\" && $.inArray(e.which, [2, 3]) !== -1) {\n    return;\n  }\n\n  var data = e.data;\n\n  e.preventDefault();\n  e.stopPropagation();\n\n  if (e.type === \"mousedown\" && $(this).length) {\n    data.$selected = $(this);\n    data.index = data.$list.index(data.$selected);\n  }\n\n  if (!data.$node.prop(\"disabled\")) {\n    _close(e);\n    _update(data);\n\n    if (e.type === \"click\") {\n      data.$node.trigger(\"focus\", [true]);\n    }\n  }\n}\n\n/**\n * @method private\n * @name _setHint\n * @description Set autocompleter by hint\n * @param data [object] \"Instance data\"\n */\nfunction _setHint(data) {\n  _setValue(data);\n  _handleChange(data);\n  _launch(data);\n}\n\n/**\n * @method private\n * @name _setValue\n * @description Set value for native field\n * @param data [object] \"Instance data\"\n */\nfunction _setValue(data) {\n  if (data.$selected) {\n    if (\n      data.hintText &&\n      data.$autocompleter\n        .find(\".autocompleter-hint\")\n        .hasClass(\"autocompleter-hint-show\")\n    ) {\n      data.$autocompleter\n        .find(\".autocompleter-hint\")\n        .removeClass(\"autocompleter-hint-show\");\n    }\n\n    data.$node.val(\n      data.$selected.attr(\"data-value\")\n        ? data.$selected.attr(\"data-value\")\n        : data.$selected.attr(\"data-label\")\n    );\n  } else {\n    if (\n      data.hintText &&\n      !data.$autocompleter\n        .find(\".autocompleter-hint\")\n        .hasClass(\"autocompleter-hint-show\")\n    ) {\n      data.$autocompleter\n        .find(\".autocompleter-hint\")\n        .addClass(\"autocompleter-hint-show\");\n    }\n\n    data.$node.val(data.query);\n  }\n}\n\n/**\n * @method private\n * @name _update\n * @param data [object] \"Instance data\"\n */\nfunction _update(data) {\n  _setValue(data);\n  _handleChange(data);\n  _clear(data);\n}\n\n/**\n * @method private\n * @name _handleChange\n * @description Trigger node change event and call the callback function\n * @param data [object] \"Instance data\"\n */\nfunction _handleChange(data) {\n  data.callback.call(\n    data.$autocompleter,\n    data.$node.val(),\n    data.index,\n    data.response[data.index]\n  );\n  data.$node.trigger(\"change\");\n}\n\n/**\n * @method private\n * @name _grab\n * @description Grab sub-object from object\n * @param response [object] \"Native object\"\n * @param offset [string] \"Offset string\"\n */\nfunction _grab(response, offset) {\n  offset = offset.split(\".\");\n\n  while (response && offset.length) {\n    response = response[offset.shift()];\n  }\n\n  return response;\n}\n\n/**\n * @method private\n * @name _setCache\n * @description Store AJAX response in plugin cache\n * @param url [string] \"AJAX get query string\"\n * @param data [object] \"AJAX response data\"\n */\nfunction _setCache(url, data) {\n  if (!supportLocalStorage) {\n    return;\n  }\n\n  if (url && data) {\n    cache[url] = {\n      value: data,\n      timestamp: +new Date()\n    };\n\n    // Proccess to localStorage\n    try {\n      localStorage.setItem(localStorageKey, JSON.stringify(cache));\n    } catch (e) {\n      var code = e.code || e.number || e.message;\n\n      if (code === 22) {\n        _deleteCache();\n      } else {\n        throw e;\n      }\n    }\n  }\n}\n\n/**\n * @method private\n * @name _getCache\n * @description Get cached data by url if exist\n * @param url [string] \"AJAX get query string\"\n */\nfunction _getCache(url, expires) {\n  var response = false,\n    item;\n\n  expires = expires || false;\n\n  if (!url) {\n    return false;\n  }\n\n  item = cache[url];\n\n  if (item && item.value) {\n    response = item.value;\n\n    if (\n      item.timestamp &&\n      expires &&\n      +new Date() - item.timestamp > expires * 1000\n    ) {\n      return false;\n    } else {\n      return response;\n    }\n  } else {\n    return false;\n  }\n}\n\n/**\n * @method private\n * @name _loadCache\n * @description Load all plugin cache from localStorage\n */\nfunction _loadCache() {\n  if (!supportLocalStorage) {\n    return;\n  }\n\n  return JSON.parse(localStorage.getItem(localStorageKey) || \"{}\");\n}\n\n/**\n * @method private\n * @name _deleteCache\n * @description Delete all plugin cache from localStorage\n */\nfunction _deleteCache() {\n  try {\n    localStorage.removeItem(localStorageKey);\n    cache = _loadCache();\n  } catch (e) {\n    //\n  }\n}\n\n/**\n * @method private\n * @name _clone\n * @description Clone JavaScript object\n */\nfunction _clone(obj) {\n  var copy;\n\n  if (null === obj || \"object\" !== typeof obj) {\n    return obj;\n  }\n\n  copy = obj.constructor();\n\n  for (var attr in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, attr)) {\n      copy[attr] = obj[attr];\n    }\n  }\n\n  return copy;\n}\n\n// Load cache\nvar cache = _loadCache();\n\n$.fn.autocompleter = function(method) {\n  if (publics[method]) {\n    return publics[method].apply(\n      this,\n      Array.prototype.slice.call(arguments, 1)\n    );\n  } else if (typeof method === \"object\" || !method) {\n    return _init.apply(this, arguments);\n  }\n  return this;\n};\n\n$.autocompleter = function(method) {\n  if (method === \"defaults\") {\n    publics.defaults.apply(this, Array.prototype.slice.call(arguments, 1));\n  } else if (method === \"clearCache\") {\n    publics.clearCache.apply(this, null);\n  }\n};\n"],"names":["guid","ignoredKeyCode","allowOptions","userAgent","window","navigator","vendor","opera","isFirefox","test","isMobile","isFirefoxMobile","$body","delayTimeout","supportLocalStorage","supported","localStorage","setItem","removeItem","e","options","source","asLocal","empty","limit","minLength","delay","customClass","cache","cacheExpires","focusOpen","hint","selectFirst","changeWhenSelect","highlightMatches","customLabel","customValue","template","offset","combine","callback","$","noop","publics","defaults","opts","extend","_typeof","this","option","properties","each","i","input","data","next","property","inArray","open","_open","close","_close","clearCache","_deleteCache","destroy","jqxhr","abort","$autocompleter","hasClass","find","trigger","originalAutocomplete","$node","attr","removeAttr","off","removeClass","remove","_init","$items","count","length","_build","eq","slice","ajax","url","type","dataType","async","done","response","html","join","addClass","after","$selected","$list","index","hintText","focused","query","on","_select","_onKeyup","_onKeydown","_onFocus","_onBlur","_onMousedown","_launch","clearTimeout","trim","val","_clear","setTimeout","_xhr","search","toUpperCase","item","label","push","_search","obj","copy","constructor","Object","prototype","hasOwnProperty","call","_clone","_response","ajaxData","crossDomain","beforeSend","xhr","stored","expires","value","timestamp","Date","_getCache","split","shift","_grab","JSON","stringify","code","number","message","_setCache","always","list","menu","classes","highlightReg","RegExp","clear","replace","regex","hintLabel","substr","hintReg","j","_buildList","keyCode","which","prev","len","_setValue","preventDefault","stopPropagation","hintOrigin","_handleChange","_setHint","internal","prop","is","el","$select","document","createEvent","evt","initMouseEvent","dispatchEvent","fireEvent","instanceData","_closeHelper","target","currentTarget","parents","_update","_loadCache","parse","getItem","fn","autocompleter","method","apply","Array","arguments"],"mappings":"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"}